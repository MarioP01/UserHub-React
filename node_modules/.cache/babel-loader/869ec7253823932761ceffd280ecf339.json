{"ast":null,"code":"import _slicedToArray from\"/mnt/c/Users/Mario/Desktop/UNF Fullstack Academy Projects/Project_16_UserHub-React/Test_User_Hub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// src/components/Header.js\nimport React,{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";// NEW\nimport{storeCurrentUser,clearCurrentUser}from\"../auth\";import\"./Header.css\";var Header=function Header(_ref){var currentUser=_ref.currentUser,setCurrentUser=_ref.setCurrentUser,userList=_ref.userList;var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedUser=_useState2[0],setSelectedUser=_useState2[1];useEffect(function(){setSelectedUser(userList[0]);},[userList]);var handleSubmit=function handleSubmit(event){event.preventDefault();};var handleSelectChange=function handleSelectChange(event){var id=event.target.value;var user=userList.find(function(user){return user.id==id;});setSelectedUser(user);};var handleUserLogin=function handleUserLogin(event){storeCurrentUser(selectedUser);// NEW\nsetCurrentUser(selectedUser);};var handleUserLogout=function handleUserLogout(event){setSelectedUser(userList[0]);clearCurrentUser();// NEW\nsetCurrentUser(null);};return/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Welcome to UserHub\"),/*#__PURE__*/React.createElement(\"form\",{className:\"user-select\",onSubmit:handleSubmit},currentUser?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/posts\",activeClassName:\"current\"},\"POSTS\"),/*#__PURE__*/React.createElement(NavLink,{to:\"/todos\",activeClassName:\"current\"},\"TODOS\"),/*#__PURE__*/React.createElement(\"button\",{onClick:handleUserLogout},\"LOG OUT, \",currentUser.username)):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"select\",{onChange:handleSelectChange},userList.map(function(user){return/*#__PURE__*/React.createElement(\"option\",{key:user.id,value:user.id},user.username);})),/*#__PURE__*/React.createElement(\"button\",{onClick:handleUserLogin},\"LOG IN\"))));};export default Header;","map":{"version":3,"sources":["/mnt/c/Users/Mario/Desktop/UNF Fullstack Academy Projects/Project_16_UserHub-React/Test_User_Hub/src/components/Header.js"],"names":["React","useState","useEffect","NavLink","storeCurrentUser","clearCurrentUser","Header","currentUser","setCurrentUser","userList","selectedUser","setSelectedUser","handleSubmit","event","preventDefault","handleSelectChange","id","target","value","user","find","handleUserLogin","handleUserLogout","username","map"],"mappings":"uNAAA;AAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA;AACA,OAASC,gBAAT,CAA2BC,gBAA3B,KAAmD,SAAnD,CAEA,MAAO,cAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAA+C,IAA5CC,CAAAA,WAA4C,MAA5CA,WAA4C,CAA/BC,cAA+B,MAA/BA,cAA+B,CAAfC,QAAe,MAAfA,QAAe,eACpBR,QAAQ,EADY,wCACrDS,YADqD,eACvCC,eADuC,eAG5DT,SAAS,CAAC,UAAM,CACdS,eAAe,CAACF,QAAQ,CAAC,CAAD,CAAT,CAAf,CACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACD,CAFD,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACF,KAAD,CAAW,CACpC,GAAMG,CAAAA,EAAE,CAAGH,KAAK,CAACI,MAAN,CAAaC,KAAxB,CACA,GAAMC,CAAAA,IAAI,CAAGV,QAAQ,CAACW,IAAT,CAAc,SAACD,IAAD,QAAUA,CAAAA,IAAI,CAACH,EAAL,EAAWA,EAArB,EAAd,CAAb,CACAL,eAAe,CAACQ,IAAD,CAAf,CACD,CAJD,CAMA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACR,KAAD,CAAW,CACjCT,gBAAgB,CAACM,YAAD,CAAhB,CAAgC;AAChCF,cAAc,CAACE,YAAD,CAAd,CACD,CAHD,CAKA,GAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACT,KAAD,CAAW,CAClCF,eAAe,CAACF,QAAQ,CAAC,CAAD,CAAT,CAAf,CACAJ,gBAAgB,GAAI;AACpBG,cAAc,CAAC,IAAD,CAAd,CACD,CAJD,CAMA,mBACE,+CACE,mDADF,cAEE,4BAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEI,YAAxC,EACGL,WAAW,cACV,qDACE,oBAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,eAAe,CAAC,SAArC,UADF,cAIE,oBAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,eAAe,CAAC,SAArC,UAJF,cAOE,8BAAQ,OAAO,CAAEe,gBAAjB,cACYf,WAAW,CAACgB,QADxB,CAPF,CADU,cAaV,qDACE,8BAAQ,QAAQ,CAAER,kBAAlB,EACGN,QAAQ,CAACe,GAAT,CAAa,SAACL,IAAD,qBACZ,8BAAQ,GAAG,CAAEA,IAAI,CAACH,EAAlB,CAAsB,KAAK,CAAEG,IAAI,CAACH,EAAlC,EACGG,IAAI,CAACI,QADR,CADY,EAAb,CADH,CADF,cAQE,8BAAQ,OAAO,CAAEF,eAAjB,WARF,CAdJ,CAFF,CADF,CA+BD,CA3DD,CA6DA,cAAef,CAAAA,MAAf","sourcesContent":["// src/components/Header.js\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n// NEW\r\nimport { storeCurrentUser, clearCurrentUser } from \"../auth\";\r\n\r\nimport \"./Header.css\";\r\n\r\nconst Header = ({ currentUser, setCurrentUser, userList }) => {\r\n  const [selectedUser, setSelectedUser] = useState();\r\n\r\n  useEffect(() => {\r\n    setSelectedUser(userList[0]);\r\n  }, [userList]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleSelectChange = (event) => {\r\n    const id = event.target.value;\r\n    const user = userList.find((user) => user.id == id);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleUserLogin = (event) => {\r\n    storeCurrentUser(selectedUser); // NEW\r\n    setCurrentUser(selectedUser);\r\n  };\r\n\r\n  const handleUserLogout = (event) => {\r\n    setSelectedUser(userList[0]);\r\n    clearCurrentUser(); // NEW\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <h1>Welcome to UserHub</h1>\r\n      <form className=\"user-select\" onSubmit={handleSubmit}>\r\n        {currentUser ? (\r\n          <>\r\n            <NavLink to=\"/posts\" activeClassName=\"current\">\r\n              POSTS\r\n            </NavLink>\r\n            <NavLink to=\"/todos\" activeClassName=\"current\">\r\n              TODOS\r\n            </NavLink>\r\n            <button onClick={handleUserLogout}>\r\n              LOG OUT, {currentUser.username}\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <select onChange={handleSelectChange}>\r\n              {userList.map((user) => (\r\n                <option key={user.id} value={user.id}>\r\n                  {user.username}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button onClick={handleUserLogin}>LOG IN</button>\r\n          </>\r\n        )}\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}