{"version":3,"sources":["components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","key","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95d09a00.chunk.js","sourcesContent":["// src/components/Header.js\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n// NEW\r\nimport { storeCurrentUser, clearCurrentUser } from \"../auth\";\r\n\r\nimport \"./Header.css\";\r\n\r\nconst Header = ({ currentUser, setCurrentUser, userList }) => {\r\n  const [selectedUser, setSelectedUser] = useState();\r\n\r\n  useEffect(() => {\r\n    setSelectedUser(userList[0]);\r\n  }, [userList]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleSelectChange = (event) => {\r\n    const id = event.target.value;\r\n    const user = userList.find((user) => user.id == id);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleUserLogin = (event) => {\r\n    storeCurrentUser(selectedUser); // NEW\r\n    setCurrentUser(selectedUser);\r\n  };\r\n\r\n  const handleUserLogout = (event) => {\r\n    setSelectedUser(userList[0]);\r\n    clearCurrentUser(); // NEW\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <h1>Welcome to UserHub</h1>\r\n      <form className=\"user-select\" onSubmit={handleSubmit}>\r\n        {currentUser ? (\r\n          <>\r\n            <NavLink to=\"/posts\" activeClassName=\"current\">\r\n              POSTS\r\n            </NavLink>\r\n            <NavLink to=\"/todos\" activeClassName=\"current\">\r\n              TODOS\r\n            </NavLink>\r\n            <button onClick={handleUserLogout}>\r\n              LOG OUT, {currentUser.username}\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <select onChange={handleSelectChange}>\r\n              {userList.map((user) => (\r\n                <option key={user.id} value={user.id}>\r\n                  {user.username}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button onClick={handleUserLogin}>LOG IN</button>\r\n          </>\r\n        )}\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export function storeCurrentUser(user) {\r\n  localStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  const user = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  return user;\r\n}\r\n\r\nexport function clearCurrentUser() {\r\n  localStorage.removeItem(\"currentUser\");\r\n}\r\n","// src/components/UserPosts.js\r\n\r\nimport React from \"react\";\r\n\r\nimport \"./UserPosts.css\";\r\n\r\nconst UserPosts = ({ currentUser, userPosts }) => {\r\n  return (\r\n    <div className=\"user-posts\">\r\n      <h2>Posts By {currentUser.username}</h2>\r\n      {userPosts.map(({ id, title, body }) => (\r\n        <div key={id} className=\"post\">\r\n          <h3>{title}</h3>\r\n          <p>{body}</p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPosts;\r\n","// src/components/UserTodos.js\r\n\r\nimport React from \"react\";\r\n\r\nimport \"./UserTodos.css\";\r\n\r\nconst UserTodos = ({ currentUser, userTodos }) => {\r\n  return (\r\n    <div className=\"user-todos\">\r\n      <h2>Todos By {currentUser.username}</h2>\r\n      {userTodos.map(({ id, title, completed }) => (\r\n        <div key={id} className=\"todo\">\r\n          <h3\r\n            style={{\r\n              textDecoration: completed ? \"line-through\" : \"none\",\r\n            }}\r\n          >\r\n            {title}\r\n          </h3>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserTodos;\r\n","import axios from \"axios\";\r\n\r\nconst BASE = \"https://jsonplace-univclone.herokuapp.com\";\r\n\r\nexport async function getUsers() {\r\n  try {\r\n    const { data } = await axios.get(`${BASE}/users`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getPostsByUser(userId) {\r\n  try {\r\n    const { data } = await axios.get(`${BASE}/users/${userId}/posts`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getTodosByUser(userId) {\r\n  try {\r\n    const { data } = await axios.get(`${BASE}/users/${userId}/todos`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","// // src/index.js\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import ReactDOM from \"react-dom\";\r\n\r\n// import { Header, UserPosts, UserTodos } from \"./components\";\r\n\r\n// import {\r\n//   getUsers,\r\n//   getPostsByUser,\r\n//   getTodosByUser, // NEW\r\n// } from \"./api\";\r\n\r\n// const App = () => {\r\n//   const [userList, setUserList] = useState([]);\r\n//   const [currentUser, setCurrentUser] = useState(null);\r\n//   const [userPosts, setUserPosts] = useState([]);\r\n//   const [userTodos, setUserTodos] = useState([]); // NEW\r\n\r\n//   useEffect(() => {\r\n//     getUsers()\r\n//       .then((users) => {\r\n//         setUserList(users);\r\n//       })\r\n//       .catch((error) => {\r\n//         // something something errors\r\n//       });\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (!currentUser) {\r\n//       setUserPosts([]);\r\n//       setUserTodos([]); // NEW\r\n//       return;\r\n//     }\r\n\r\n//     getPostsByUser(currentUser.id)\r\n//       .then((posts) => {\r\n//         setUserPosts(posts);\r\n//       })\r\n//       .catch((error) => {\r\n//         // something something errors\r\n//       });\r\n\r\n//     // NEW\r\n//     getTodosByUser(currentUser.id)\r\n//       .then((todos) => {\r\n//         setUserTodos(todos);\r\n//       })\r\n//       .catch((error) => {\r\n//         // something something errors\r\n//       });\r\n//   }, [currentUser]);\r\n\r\n//   return (\r\n//     <div id=\"App\">\r\n//       <Header\r\n//         userList={userList}\r\n//         currentUser={currentUser}\r\n//         setCurrentUser={setCurrentUser}\r\n//       />\r\n//       {currentUser ? ( // MODIFIED\r\n//         <>\r\n//           <UserPosts userPosts={userPosts} currentUser={currentUser} />\r\n//           <UserTodos userTodos={userTodos} currentUser={currentUser} />\r\n//         </>\r\n//       ) : null}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// ReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n//---------------------------------------------------------Version 2-----------------------------------------------------------------------------\r\n\r\n// src/index.js\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import ReactDOM from \"react-dom\";\r\n\r\n// import {\r\n//   BrowserRouter as Router,\r\n//   Route,\r\n//   Switch,\r\n//   Redirect,\r\n// } from \"react-router-dom\";\r\n\r\n// import { Header, UserPosts, UserTodos } from \"./components\";\r\n\r\n// import { getUsers, getPostsByUser, getTodosByUser } from \"./api\";\r\n\r\n// const App = () => {\r\n//   const [userList, setUserList] = useState([]);\r\n//   const [currentUser, setCurrentUser] = useState(null);\r\n//   const [userPosts, setUserPosts] = useState([]);\r\n//   const [userTodos, setUserTodos] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     getUsers()\r\n//       .then((users) => {\r\n//         setUserList(users);\r\n//       })\r\n//       .catch((error) => {\r\n//         // something something errors\r\n//       });\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (!currentUser) {\r\n//       setUserPosts([]);\r\n//       setUserTodos([]);\r\n//       return;\r\n//     }\r\n\r\n//     getPostsByUser(currentUser.id)\r\n//       .then((posts) => {\r\n//         setUserPosts(posts);\r\n//       })\r\n//       .catch((error) => {\r\n//         // something something errors\r\n//       });\r\n\r\n//     getTodosByUser(currentUser.id)\r\n//       .then((todos) => {\r\n//         setUserTodos(todos);\r\n//       })\r\n//       .catch((error) => {\r\n//         // something something errors\r\n//       });\r\n//   }, [currentUser]);\r\n\r\n//   return (\r\n//     <Router>\r\n//       <div id=\"App\">\r\n//         <Header\r\n//           userList={userList}\r\n//           currentUser={currentUser}\r\n//           setCurrentUser={setCurrentUser}\r\n//         />\r\n//         {currentUser ? (\r\n//           <>\r\n//             <Switch>\r\n//               <Route path=\"/posts\">\r\n//                 <UserPosts userPosts={userPosts} currentUser={currentUser} />\r\n//               </Route>\r\n//               <Route path=\"/todos\">\r\n//                 <UserTodos userTodos={userTodos} currentUser={currentUser} />\r\n//               </Route>\r\n//               <Route exact path=\"/\">\r\n//                 <h2\r\n//                   style={{\r\n//                     padding: \".5em\",\r\n//                   }}\r\n//                 >\r\n//                   Welcome, {currentUser.username}!\r\n//                 </h2>\r\n//               </Route>\r\n//               <Redirect to=\"/\" />\r\n//             </Switch>\r\n//           </>\r\n//         ) : (\r\n//           <>\r\n//             <Switch>\r\n//               <Route exact path=\"/\">\r\n//                 <h2\r\n//                   style={{\r\n//                     padding: \".5em\",\r\n//                   }}\r\n//                 >\r\n//                   Please log in, above.\r\n//                 </h2>\r\n//               </Route>\r\n//               <Redirect to=\"/\" />\r\n//             </Switch>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n//     </Router>\r\n//   );\r\n// };\r\n\r\n// ReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n//----------------------------------------------------------------------version 3----------------------------------------------------------------------------\r\n\r\n// src/index.js\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport { Header, UserPosts, UserTodos } from \"./components\";\r\n\r\nimport { getUsers, getPostsByUser, getTodosByUser } from \"./api\";\r\n\r\n// NEW\r\nimport { getCurrentUser } from \"./auth\";\r\n\r\nconst App = () => {\r\n  const [userList, setUserList] = useState([]);\r\n\r\n  // MODIFIED\r\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\r\n\r\n  const [userPosts, setUserPosts] = useState([]);\r\n  const [userTodos, setUserTodos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getUsers()\r\n      .then((users) => {\r\n        setUserList(users);\r\n      })\r\n      .catch((error) => {\r\n        // something something errors\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      setUserPosts([]);\r\n      setUserTodos([]);\r\n      return;\r\n    }\r\n\r\n    getPostsByUser(currentUser.id)\r\n      .then((posts) => {\r\n        setUserPosts(posts);\r\n      })\r\n      .catch((error) => {\r\n        // something something errors\r\n      });\r\n\r\n    getTodosByUser(currentUser.id)\r\n      .then((todos) => {\r\n        setUserTodos(todos);\r\n      })\r\n      .catch((error) => {\r\n        // something something errors\r\n      });\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <Router>\r\n      <div id=\"App\">\r\n        <Header\r\n          userList={userList}\r\n          currentUser={currentUser}\r\n          setCurrentUser={setCurrentUser}\r\n        />\r\n        {currentUser ? (\r\n          <>\r\n            <Switch>\r\n              <Route path=\"/posts\">\r\n                <UserPosts userPosts={userPosts} currentUser={currentUser} />\r\n              </Route>\r\n              <Route path=\"/todos\">\r\n                <UserTodos userTodos={userTodos} currentUser={currentUser} />\r\n              </Route>\r\n              <Route exact path=\"/\">\r\n                <h2\r\n                  style={{\r\n                    padding: \".5em\",\r\n                  }}\r\n                >\r\n                  Welcome, {currentUser.username}!\r\n                </h2>\r\n              </Route>\r\n              <Redirect to=\"/\" />\r\n            </Switch>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <h2\r\n                  style={{\r\n                    padding: \".5em\",\r\n                  }}\r\n                >\r\n                  Please log in, above.\r\n                </h2>\r\n              </Route>\r\n              <Redirect to=\"/\" />\r\n            </Switch>\r\n          </>\r\n        )}\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}